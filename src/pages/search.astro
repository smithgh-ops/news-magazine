---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Sidebar from '../components/Sidebar.astro';

// In a real application, this would search based on query parameters
// For now, we'll show an empty state that encourages users to search
const searchQuery = Astro.url.searchParams.get('q') || '';
---

<Layout title="Pencarian" description="Cari artikel di News Magazine">
  <Navbar />

  <main class="min-h-screen bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <!-- Search Header -->
      <header class="mb-8">
        <div class="flex items-center mb-4">
          <a href="/" class="text-news-primary hover:underline text-sm font-semibold"> Beranda </a>
          <span class="mx-2 text-gray-400">/</span>
          <span class="text-sm text-gray-600">Pencarian</span>
        </div>

        <h1 class="text-4xl md:text-5xl font-black font-serif text-gray-900 mb-6">Pencarian</h1>

        <!-- Search Form -->
        <form method="get" class="max-w-2xl">
          <div class="relative">
            <input
              type="text"
              name="q"
              value={searchQuery}
              placeholder="Cari berita, artikel, atau topik..."
              class="w-full px-4 py-3 pr-12 text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-news-primary focus:border-transparent"
            />
            <button
              type="submit"
              class="absolute right-2 top-1/2 -translate-y-1/2 p-2 text-gray-600 hover:text-news-primary transition-colors"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </button>
          </div>
        </form>
      </header>

      <!-- Content with Sidebar Layout -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Main Content -->
        <div class="lg:col-span-2">
          {
            searchQuery ? (
              <div>
                <p class="text-lg text-gray-600 mb-8">
                  Hasil pencarian untuk "<strong>{searchQuery}</strong>"
                </p>
                <div class="text-center py-12">
                  <svg
                    class="w-16 h-16 mx-auto text-gray-300 mb-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                    />
                  </svg>
                  <p class="text-gray-500 text-lg mb-2">Tidak ada hasil yang ditemukan</p>
                  <p class="text-gray-400 text-sm">
                    Coba gunakan kata kunci yang berbeda atau lebih umum
                  </p>
                </div>
              </div>
            ) : (
              <div class="text-center py-12">
                <svg
                  class="w-16 h-16 mx-auto text-gray-300 mb-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  />
                </svg>
                <p class="text-gray-500 text-lg mb-2">Mulai pencarian Anda</p>
                <p class="text-gray-400 text-sm">
                  Masukkan kata kunci untuk mencari berita dan artikel
                </p>
              </div>
            )
          }
        </div>

        <!-- Sidebar -->
        <div class="lg:col-span-1">
          <Sidebar />
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
